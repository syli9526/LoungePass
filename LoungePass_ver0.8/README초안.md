## Capston Project 

세종대학교 컴퓨터공학과 14011262 임소율

---

##### 세종대학교 글로벌라운지 출입템 -> 출입증(Ios)

#### 1. 개요 

교내 Global Lounge의 출입을 위해 QR코드를 이용한 출입증

#### 2. How

* 학교 서버로 학생인증 정보를 받아옴 (학생)
* 자체 서버에 인증요청 및 개인정보를 받아옴 (관리자 및 학생)
* QR코드 
* 비콘을 이용한 출입 요청 (예정, 관리자)

#### 3. 기능

* **자동 로그인 기능**

  * ID 와 Password 를 `UserDefault` 내에 저장

* **로그인 시 자동 밝기 조절**

  * 앱 구동시 `UserDefault` 내에 밝기 정보 저장
  * 출입증 화면으로 넘어간 후 ` UIScreen.main.brightness` 값 최대

* **학교 서버와 HTTP 통신** (post)

* **서버와 소켓 통신** (TCP)

* **개인정보 보호를 위한 RSA 암호화 (Base64)**

  * JAVA(서버) 와 암호화 형식이 달라 Swift내에서 만든 공개키를 넘겨주면 서버 내에서 암호화 진행이 불가능 하게 됨. 따라서 공개키 정보중` Exponent` 값과` Hex `을 찾아 서버로 넘겨줌.

  * 암호화하려는 대상의 길이가 한번에 암호화 할 수 있는 길이보다 길어 64Byte씩(?) 잘라서 암호화 후 붙이는 과정으로 암호화 진행(서버)

    —> 앱 에서는 64Byte씩 나누어서 복호화 진행

* **출입 인증시 QR코드 기존 QR코드 만료 후 자동으로 생성**

  * 출입 인증에 성공하게 되면 서버에서 QR 코드를 만료후 재 생성하여 정보를 넘겨줌. 따라서 socket의 read기능을 하는 스레드를 두어 QR코드 정보를 넘겨줄때까지 대기

* **비콘 (예정)**

  * 비콘영역내에서 출입요청 제스처를 취하면 관리자 인증이 되면 출입문 개방을 요청

#### 4. Implementation